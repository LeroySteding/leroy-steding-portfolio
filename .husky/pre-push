#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run all tests before pushing
echo "Running tests before push..."
cd apps/portfolio && pnpm vitest run

# Run E2E tests on main/master branches
BRANCH=$(git rev-parse --abbrev-ref HEAD)
if [ "$BRANCH" = "main" ] || [ "$BRANCH" = "master" ]; then
  echo "Running E2E tests on $BRANCH branch..."
  pnpm test:e2e
fi
